import { cancelJob } from "../lib/api.js";
import { requireApiKey } from "../lib/config.js";
import * as output from "../lib/output.js";
export async function cancelCommand(jobId) {
    requireApiKey();
    const spin = output.spinner("Cancelling job...");
    try {
        const result = await cancelJob(jobId);
        spin.stop();
        output.label("Job", result.jobId);
        output.label("Status", output.formatStatus(result.status));
        if (result.status === "cancelled") {
            output.success("Job cancelled successfully");
        }
        else {
            output.dim(`Job is ${result.status} and could not be cancelled.`);
        }
    }
    catch (err) {
        spin.fail("Failed to cancel job");
        output.error(err.message);
        process.exit(1);
    }
}
//# sourceMappingURL=cancel.js.map